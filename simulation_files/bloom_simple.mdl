{UTF-8}
adjust data rate=IF THEN ELSE(loss monitoring=0, 0, 
		IF THEN ELSE (training GPUs=0, 2, training GPUs*loss monitoring)
		)
	~	gpus/Hour
	~		|

reduce GPUs=IF THEN ELSE (training GPUs>0, 
		IF THEN ELSE (adjust data rate=0, training GPUs, 0),
		0)
	~	gpus
	~		|

training GPUs= INTEG (adjust data rate-reduce GPUs,
		0)
	~	gpus
	~		|

processed data= INTEG (data rate-loss rate,
		5000)
	~	samples
	~		|

loss rate=IF THEN ELSE (loss monitoring<0.01, 
		IF THEN ELSE (processed data>5000, (processed data-5000), 0), (processed data-5000)\
		)
	~	samples/Hour
	~		|

compute rate=0.43157
	~	samples/gpus/Hour
	~		|

data rate=compute rate*training GPUs
	~	samples/Hour
	~		|

drift per request=1e-06
	~	Dmnl
	~		|

drift rate=drift per request*request rate
	~	Dmnl/Hour
	~		|

energy consumption= INTEG (energy consumption rate,
		0)
	~	kWh
	~		|

energy consumption rate=server energy per hour+training energy per hour
	~	kWh/Hour
	~		|

energy per data sample=0.00242012
	~	kWh/samples
	~		|

energy per request=0.04784
	~	kWh/requests
	~		|

idle server energy consumption=0.28
	~	kWh/Hour
	~		|

loss= INTEG (loss function+drift rate,
		1.931)
	~	Dmnl
	~		|

loss function=IF THEN ELSE (loss monitoring<0.001, 0,
		IF THEN ELSE (processed data>0, (3398*(LN (processed data)-1400))/POWER (processed data\
		, 2), 0))
	~	Dmnl
	~		|

loss monitoring=IF THEN ELSE ( loss>2, 0.5,
		IF THEN ELSE ( loss<1.9, -0.5, 0))
	~	Dmnl
	~		|

request rate=558
	~	requests/Hour
	~		|

requests= INTEG (request rate,
		0)
	~	requests
	~		|

server energy per hour=(energy per request*request rate)+idle server energy consumption
	~	kWh/Hour
	~		|

training energy per hour=data rate*energy per data sample
	~	kWh/Hour
	~		|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

FINAL TIME  = 2080
	~	Hour
	~	The final time for the simulation.
	|

INITIAL TIME  = 0
	~	Hour
	~	The initial time for the simulation.
	|

SAVEPER  = 
        TIME STEP
	~	Hour [0,?]
	~	The frequency with which output is stored.
	|

TIME STEP  = 1
	~	Hour [0,?]
	~	The time step for the simulation.
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$-1--1--1,0,|12||-1--1--1|-1--1--1|-1--1--1|-1--1--1|-1--1--1|96,96,72,2
10,1,loss,1295,499,46,26,3,3,0,4,-1,1,0,0,0-0-0,194-153-232,|||0-0-0,0,0,0,0,0,0
10,2,requests,1661,794,46,26,3,3,0,4,-1,1,0,0,0-0-0,248-192-137,|||0-0-0,0,0,0,0,0,0
10,3,energy consumption,1159,900,59,29,3,3,0,4,-1,1,0,0,0-0-0,152-243-200,|||0-0-0,0,0,0,0,0,0
10,4,processed data,1014,496,58,26,3,3,0,4,-1,1,0,0,0-0-0,194-153-232,|||0-0-0,0,0,0,0,0,0
12,5,48,766,500,52,29,8,7,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
Data
1,6,8,5,100,0,0,22,1,192,0,151-37-194,|||0-0-0,1|(846,500)|
1,7,8,4,4,0,0,22,1,192,0,255-128-0,|||0-0-0,1|(921,500)|
11,8,0,880,500,6,8,34,3,0,1,3,0,0,0,64-0-128,0-0-0,|||0-0-0,0,0,0,0,0,0
10,9,data rate,880,466,46,26,40,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
12,10,48,1302,792,55,31,8,7,0,2,-1,1,0,0,0-0-0,0-0-0,|||128-64-0,0,0,0,0,0,0
Servers
1,11,13,10,100,0,0,22,1,192,0,175-101-18,|||0-0-0,1|(1424,792)|
1,12,13,2,4,0,0,22,1,192,0,175-101-18,|||0-0-0,1|(1559,792)|
11,13,0,1498,792,6,8,34,3,0,1,3,0,0,0,128-64-0,0-0-0,|||0-0-0,0,0,0,0,0,0
10,14,request rate,1498,758,48,26,40,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||128-64-0,0,0,0,0,0,0
10,15,loss function,1155,564,35,39,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
10,16,energy per data sample,890,596,49,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
10,17,energy per request,1167,750,46,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
10,18,drift per request,1608,619,54,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||128-64-0,0,0,0,0,0,0
1,19,4,15,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(1045,543)|
1,20,15,1,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(1223,570)|
10,21,energy consumption rate,908,898,55,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
1,22,21,3,0,0,0,0,1,192,0,0-128-64,|||0-0-0,1|(0,0)|
10,23,loss monitoring,1295,294,46,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
10,24,adjust data rate,1082,298,52,24,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
1,25,23,24,0,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(0,0)|
1,26,1,23,0,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(0,0)|
12,27,48,1642,495,61,34,8,7,0,2,-1,1,0,0,0-0-0,0-0-0,|||128-64-0,0,0,0,0,0,0
Data drift
1,28,30,27,100,0,0,22,1,192,0,175-101-18,|||0-0-0,1|(1536,495)|
1,29,30,1,4,0,0,22,1,192,0,175-101-18,|||0-0-0,1|(1410,495)|
11,30,0,1486,495,6,8,34,3,0,1,1,0,0,0,128-64-0,0-0-0,|||0-0-0,0,0,0,0,0,0
10,31,drift rate,1486,529,46,26,40,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||128-64-0,0,0,0,0,0,0
1,32,18,31,1,0,0,0,1,192,0,128-64-0,|||0-0-0,1|(1570,558)|
1,33,14,31,1,0,0,0,1,192,0,128-64-0,|||0-0-0,1|(1447,653)|
10,34,idle server energy consumption,1054,656,67,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
10,35,training energy per hour,844,757,58,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
10,36,server energy per hour,997,757,47,27,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||0-128-64,0,0,0,0,0,0
1,37,9,35,1,0,0,0,1,192,0,41-133-55,|||0-0-0,1|(828,642)|
1,38,16,35,1,0,0,0,1,192,0,41-133-55,|||0-0-0,1|(862,666)|
1,39,35,21,1,0,0,0,1,192,0,41-133-55,|||0-0-0,1|(848,857)|
1,40,14,36,1,0,0,0,1,192,0,41-133-55,|||0-0-0,1|(1398,705)|
1,41,34,36,1,0,0,0,1,192,0,0-128-64,|||0-0-0,1|(976,703)|
1,42,17,36,1,0,0,0,1,192,0,0-128-64,|||0-0-0,1|(1094,746)|
1,43,36,21,1,0,0,0,1,192,0,41-133-55,|||0-0-0,1|(978,840)|
10,44,training GPUs,935,386,52,26,3,3,0,4,-1,1,0,0,0-0-0,194-153-232,|||0-0-0,0,0,0,0,0,0
10,45,compute rate,798,384,51,26,8,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
1,46,45,9,1,0,0,0,1,192,0,151-37-194,|||0-0-0,1|(837,420)|
1,47,44,9,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(907,419)|
1,48,23,15,0,0,0,0,1,192,0,151-37-194,|||0-0-0,1|(0,0)|
12,49,48,1046,394,18,10,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,50,52,4,100,0,0,22,1,192,0,151-37-194,|||0-0-0,1|(1046,459)|
1,51,52,49,4,0,0,22,1,192,0,151-37-194,|||0-0-0,1|(1046,420)|
11,52,0,1046,442,8,6,33,3,0,1,4,0,0,0,64-0-128,0-0-0,|||0-0-0,0,0,0,0,0,0
10,53,loss rate,1100,442,46,26,40,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
1,54,23,53,0,0,0,0,1,192,0,151-37-194,|||0-0-0,1|(0,0)|
1,55,4,53,1,0,0,0,1,192,0,151-37-194,|||0-0-0,1|(1086,485)|
12,56,48,901,254,18,10,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,57,59,44,100,0,0,22,1,192,0,151-37-194,|||0-0-0,1|(901,333)|
1,58,59,56,4,0,0,22,1,192,0,151-37-194,|||0-0-0,1|(901,279)|
11,59,0,901,301,8,6,33,3,0,1,4,0,0,0,64-0-128,0-0-0,|||0-0-0,0,0,0,0,0,0
10,60,reduce GPUs,944,301,35,24,40,3,0,2,-1,1,0,0,0-0-0,0-0-0,|||64-0-128,0,0,0,0,0,0
1,61,24,44,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(1020,361)|
1,62,44,60,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(938,348)|
1,63,24,60,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(1022,253)|
1,64,44,24,1,0,0,0,1,192,0,255-128-0,|||0-0-0,1|(1010,335)|
///---\\\
:L<%^E!@
1:1e_06.vdfx
1:zeroDrift.vdfx
1:1e_07.vdfx
4:Time
5:training energy per hour
9:1e_06
19:72,0
24:0
25:2080
26:2080
23:0
15:0,0,0,0,0,0
27:0,
34:0,
42:0
72:0
73:0
95:0
96:0
97:0
77:0
78:0
102:1
93:0
94:0
92:0
91:0
90:0
87:0
75:
43:
103:8,8,8,3,8
105:0,0,0,0,0,0,0,0,0,0
104:Vensim Sans|12||0-0-0|0-0-0|-1--1--1|0-0-255|192-192-192|-1--1--1
